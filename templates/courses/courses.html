{% extends 'base.html' %}
{% load static %}
{% block title %}
    | Courses
{% endblock title %}
{% block link %}
    <link rel="stylesheet"
          type="text/css"
          href="{% static 'styles/bootstrap4/bootstrap.min.css' %}">
    <link href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}"
          rel="stylesheet"
          type="text/css">
    <link href="{% static 'plugins/colorbox/colorbox.css' %}"
          rel="stylesheet"
          type="text/css">
    <link rel="stylesheet"
          type="text/css"
          href="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
    <link rel="stylesheet"
          type="text/css"
          href="{% static 'plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
    <link rel="stylesheet"
          type="text/css"
          href="{% static 'plugins/OwlCarousel2-2.2.1/animate.css' %}">
    <link rel="stylesheet"
          type="text/css"
          href="{% static 'styles/courses.css' %}">
    <link rel="stylesheet"
          type="text/css"
          href="{% static 'styles/courses_responsive.css' %}">
{% endblock link %}
{% block content %}
    <!-- Home -->
    <div class="home">
        <div class="breadcrumbs_container">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="breadcrumbs">
                            <ul>
                                <li>
                                    <a href="{% url 'pages:index' %}">Home</a>
                                </li>
                                <li>Courses</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Courses -->
    <div class="courses">
        <div class="container">
            <div class="row">
                <!-- Courses Main Content -->
                <div class="col-lg-8">
                    <div class="courses_search_container">
                        <form action="{% url 'courses:search' %}"
                              id="courses_search_form"
                              class="courses_search_form d-flex flex-row align-items-center justify-content-start">
                            <input type="search"
                                   class="courses_search_input"
                                   placeholder="Search Courses"
                                   name="keywords">
                            <select id="courses_search_select"
                                    class="courses_search_select courses_search_input"
                                    name="class_type">
                                <option value=''>All Types</option>
                                <option>live</option>
                                <option>video</option>
                            </select>
                            <button action="submit" class="courses_search_button ml-auto">search now</button>
                        </form>
                    </div>
                    <div class="courses_container">
                        <div class="row courses_row">
                            <!-- Course -->
                            {% if courses %}
                                {% for course in courses %}
                                    <div class="col-lg-6 course_col mt-3">
                                        <div class="course">
                                            <div class="course_image">
                                                <img src="{{ course.photo_main.url }}" alt="" height="300px" width="500px">
                                            </div>
                                            <div class="course_body">
                                                <h3 class="course_title">
                                                    <a href="{% url 'courses:course' course.id %}">{{ course.title }}</a>
                                                </h3>
                                                <div class="course_teacher">{{ course.tutor.name }}</div>
                                                <div class="course_text">
                                                    <a href="{% url 'courses:course' course.id %}">Click to view more</a>
                                                </div>
                                                <br />
                                                <div class="course_info">
                                                    <i class="fa fa-university" aria-hidden="true"></i>
                                                    <span>{{ course.school }}</span>
                                                    <span class="ml-2 text-capitalize text-info">{{ course.class_type }}</span>
                                                </div>
                                            </div>
                                            <div class="course_footer">
                                                <div class="course_footer_content d-flex flex-row align-items-center justify-content-start">
                                                    <div class="course_info">
                                                        <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                                                        <span>{{ course.enrollment_display }}</span>
                                                    </div>
                                                    <div class="course_info">
                                                        <i class="fa fa-star" aria-hidden="true"></i>
                                                        <span>{{ course.rating }}</span>
                                                    </div>
                                                    <div class="course_price ml-auto">${{ course.price }}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% else %}
                                <p>No courses available.</p>
                            {% endif %}
                        </div>
                        <!-- Pagination -->
                        <div class="row pagination_row">
                            <div class="col">
                                <div class="pagination_container d-flex flex-row align-items-center justify-content-start">
                                    <ul class="pagination_list">
                                        {% if courses.has_previous %}
                                            <li>
                                                <a href="?page={{ courses.previous_page_number }}{% if request.GET.items_per_page %}&items_per_page={{ request.GET.items_per_page }}{% endif %}"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
                                            </li>
                                        {% endif %}
                                        {% for i in courses.paginator.page_range %}
                                            \
                                            {% if courses.number == i %}
                                                <li class="active">
                                                    <a href="#">{{ i }}</a>
                                                </li>
                                            {% else %}
                                                <li>
                                                    <a href="?page={{ i }}{% if request.GET.items_per_page %}&items_per_page={{ request.GET.items_per_page }}{% endif %}">{{ i }}</a>
                                                </li>
                                            {% endif %}
                                        {% endfor %}
                                        {% if courses.has_next %}
                                            <li>
                                                <a href="?page={{ courses.next_page_number }}{% if request.GET.items_per_page %}&items_per_page={{ request.GET.items_per_page }}{% endif %}"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
                                            </li>
                                        {% endif %}
                                    </ul>
                                    <div class="courses_show_container ml-auto clearfix">
                                        <div class="courses_show_text">
                                            Showing <span class="courses_showing">{{ courses.start_index }}-{{ courses.end_index }}</span> of <span class="courses_total">{{ courses.paginator.count }}</span> results
                                        </div>
                                        <div class="courses_show_content">
                                            <span>Show:</span>
                                            <form action="" method="GET" id="items_per_page_form">
                                                <input type="hidden" name="page" value="{{ courses.number }}">
                                                {% for key, value in request.GET.items %}
                                                    {% if key != 'page' and key != 'items_per_page' %}
                                                        <input type="hidden" name="{{ key }}" value="{{ value }}">
                                                    {% endif %}
                                                {% endfor %}
                                                <select name="items_per_page" onchange="this.form.submit()">
                                                    <option value="2" {% if items_per_page == 2 %}selected{% endif %}>2</option>
                                                    <option value="4" {% if items_per_page == 4 %}selected{% endif %}>4</option>
                                                    <option value="6" {% if items_per_page == 6 %}selected{% endif %}>6</option>
                                                </select>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Courses Sidebar -->
                <div class="col-lg-4">
                    <div class="sidebar">
                        <!-- Latest Course(Tutor stars) -->
                        <div class="sidebar_section">
                            <div class="sidebar_section_title">Tutor stars</div>
                            <div class="sidebar_latest">
                                <!-- Tutor star -->
                                {% if mvp_tutors %}
                                    {% for tutor in mvp_tutors %}
                                        <div class="card">
                                            <img class="card-img-top" src={{ tutor.photo.url }} alt="Tutor star" />
                                            <div class="card-body">
                                                <h5 class="card-title">5** Tutor</h5>
                                                <h6 class="text-secondary">{{ tutor.name }}</h6>
                                                <p class="card-text">{{ tutor.description }}</p>
                                            </div>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <!-- Gallery -->
                        <div class="sidebar_section">
                            <div class="sidebar_section_title">Instagram</div>
                            <div class="sidebar_gallery">
                                <ul class="gallery_items d-flex flex-row align-items-start justify-content-between flex-wrap">
                                    <li class="gallery_item">
                                        <div class="gallery_item_overlay d-flex flex-column align-items-center justify-content-center">+</div>
                                        <a class="colorbox" href="{% static 'images/ig1.png' %}">
                                            <img src="{% static 'images/ig1.png' %}" alt="">
                                        </a>
                                    </li>
                                    <li class="gallery_item">
                                        <div class="gallery_item_overlay d-flex flex-column align-items-center justify-content-center">+</div>
                                        <a class="colorbox" href="{% static 'images/ig2.png' %}">
                                            <img src="{% static 'images/ig2.png' %}" alt="">
                                        </a>
                                    </li>
                                    <li class="gallery_item">
                                        <div class="gallery_item_overlay d-flex flex-column align-items-center justify-content-center">+</div>
                                        <a class="colorbox" href="{% static 'images/ig3.png' %}">
                                            <img src="{% static 'images/ig3.png' %}" alt="">
                                        </a>
                                    </li>
                                    <li class="gallery_item">
                                        <div class="gallery_item_overlay d-flex flex-column align-items-center justify-content-center">+</div>
                                        <a class="colorbox" href="{% static 'images/ig4.png' %}">
                                            <img src="{% static 'images/ig4.png' %}" alt="">
                                        </a>
                                    </li>
                                    <li class="gallery_item">
                                        <div class="gallery_item_overlay d-flex flex-column align-items-center justify-content-center">+</div>
                                        <a class="colorbox" href="#">
                                            <img src="#" alt="">
                                        </a>
                                    </li>
                                    <li class="gallery_item">
                                        <div class="gallery_item_overlay d-flex flex-column align-items-center justify-content-center">+</div>
                                        <a class="colorbox" href="#">
                                            <img src="#" alt="">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
{% block script %}
    <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'styles/bootstrap4/popper.js' %}"></script>
    <script src="{% static 'styles/bootstrap4/bootstrap.min.js' %}"></script>
    <script src="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.js' %}"></script>
    <script src="{% static 'plugins/easing/easing.js' %}"></script>
    <script src="{% static 'plugins/parallax-js-master/parallax.min.js' %}"></script>
    <script src="{% static 'plugins/colorbox/jquery.colorbox-min.js' %}"></script>
    <script src="{% static 'js/courses.js' %}"></script>
{% endblock script %}
