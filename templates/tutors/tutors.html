{% extends 'base.html' %}
{% load static %}
{% block title %}
  | Tutors
{% endblock title %}
{% block link %}
  <link rel="stylesheet"
        type="text/css"
        href="{% static 'styles/bootstrap4/bootstrap.min.css' %}">
  <link href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}"
        rel="stylesheet"
        type="text/css">
  <link href="{% static 'plugins/colorbox/colorbox.css' %}"
        rel="stylesheet"
        type="text/css">
  <link rel="stylesheet"
        type="text/css"
        href="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
  <link rel="stylesheet"
        type="text/css"
        href="{% static 'plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
  <link rel="stylesheet"
        type="text/css"
        href="{% static 'plugins/OwlCarousel2-2.2.1/animate.css' %}">
  <link rel="stylesheet"
        type="text/css"
        href="{% static 'styles/courses.css' %}">
  <link rel="stylesheet"
        type="text/css"
        href="{% static 'styles/courses_responsive.css' %}">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% endblock link %}
{% block content %}
  <!-- Home -->
  <div class="home">
    <div class="breadcrumbs_container">
      <div class="container">
        <div class="row">
          <div class="col">
            <div class="breadcrumbs">
              <ul>
                <li>
                  <a href="{% url 'pages:index' %}">Home</a>
                </li>
                <li>Tutors</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--Tutors-->
  <div class="container"
       style="background-image: url('{% static 'images/video_bg.png' %}');
              background-size: cover;
              background-position: center;
              background-repeat: no-repeat;
              padding: 20px">
    <div class="display-4" style="color: #fff;">Our Tutors</div>
    <div class="row">
      {% for tutor in tutors %}
        <div class="col-md-4 mb-4">
          <div class="card h-100 text-center">
            <img src="{{ tutor.photo.url }}"
                 alt="{{ tutor.name }}"
                 class="card-img-top"
                 style="width: 100%;
                        height: 300px;
                        object-fit: cover">
            <div class="card-body">
              <h5 class="card-title">{{ tutor.name }}</h5>
              <p class="card-text">
                <strong>Subject:</strong> {{ tutor.course_subject }}
              </p>
              {% if tutor.is_mvp %}<p class="badge bg-warning text-dark">ðŸŒŸ MVP Tutor</p>{% endif %}
              <a href="{% url 'tutors:tutor' tutor.id %}" class="btn btn-primary mt-2">View Profile</a>
            </div>
          </div>
        </div>
      {% empty %}
        <p>No tutors available at the moment.</p>
      {% endfor %}
    </div>
    <!-- Pagination -->
    <div class="row pagination_row mt-4 mb-4">
      <div class="col">
        <div class="pagination_container d-flex flex-row align-items-center justify-content-start">
          <ul class="pagination_list">
            {% if tutors.has_previous %}
              <li>
                <a href="?page={{ tutors.previous_page_number }}"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
              </li>
            {% endif %}
            {% with start_page=tutors.number|add:"-1"|default:1 %}
              {% with end_page=tutors.number|add:"1"|default:3 %}
                {% for i in tutors.paginator.page_range %}
                  {% if i >= start_page and i <= end_page %}
                    {% if tutors.number == i %}
                      <li class="active">
                        <a href="#">{{ i }}</a>
                      </li>
                    {% else %}
                      <li>
                        <a href="?page={{ i }}">{{ i }}</a>
                      </li>
                    {% endif %}
                  {% endif %}
                {% endfor %}
              {% endwith %}
            {% endwith %}
            {% if tutors.has_next %}
              <li>
                <a href="?page={{ tutors.next_page_number }}"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
              </li>
            {% endif %}
          </ul>
          <div class="tutors_show_container ml-auto clearfix">
            <div class="tutors_show_text text-white">
              Showing <span class="tutors_showing">{{ tutors.start_index }}-{{ tutors.end_index }}</span> of <span class="tutors_total">{{ tutors.paginator.count }}</span> results
            </div>
            <div class="tutors_show_content text-white">
              <span>Show:</span>
              <form action="" method="GET" id="items_per_page_form">
                <input type="hidden" name="page" value="{{ tutors.number }}">
                {% for key, value in request.GET.items %}
                  {% if key != 'page' and key != 'items_per_page' %}
                    <input type="hidden" name="{{ key }}" value="{{ value }}">
                  {% endif %}
                {% endfor %}
                <select name="items_per_page" onchange="this.form.submit()">
                  <option value="4" {% if items_per_page == 4 %}selected{% endif %}>4</option>
                  <option value="6" {% if items_per_page == 6 %}selected{% endif %}>6</option>
                </select>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
{% endblock content %}
{% block script %}
  <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
  <script src="{% static 'styles/bootstrap4/popper.js' %}"></script>
  <script src="{% static 'styles/bootstrap4/bootstrap.min.js' %}"></script>
  <script src="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.js' %}"></script>
  <script src="{% static 'plugins/easing/easing.js' %}"></script>
  <script src="{% static 'plugins/parallax-js-master/parallax.min.js' %}"></script>
  <script src="{% static 'plugins/colorbox/jquery.colorbox-min.js' %}"></script>
  <script src="{% static 'js/courses.js' %}"></script>
{% endblock script %}
